{% extends 'base.html' %}

{% block title %} Inside Out {% endblock %}

{% block content %}


<!-- Company name input from /////////////////////////////////////////////// -->

    <form action="/company_view" method="GET">
        <div class="company-search">
            {{ form.company(size=75) }}
            {{ form.submit() }}
        </div>
    </form>


<!-- Autocomplete with Jquery ////////////////////////////////////////////// -->

<script type="text/javascript">

    $(document).ready(function () {
    const companies=[];

    function loadCompanies(){
        $.getJSON('/companies', function(data, status, xhr){
            for (let i = 0; i < data.length; i++ ) {
                companies.push(data[i].name);
            }
    });
    };

    loadCompanies();

    $("#company").autocomplete({
                    source: companies, 
                    minLength:3
                });
    });

</script>



{% endblock %}